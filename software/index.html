<!DOCTYPE html>
<html class="no-js" lang="en"> <head><meta charset="utf-8"/><meta content="width=device-width,initial-scale=1" name="viewport"/><meta content="Infotiv portfolio of projects" name="description"/><meta content="INFOTIV" name="author"/><link href="https://infotiv-research.github.io/software/" rel="canonical"/><link href="../assets/favicon.png" rel="icon"/><meta content="mkdocs-1.3.1, mkdocs-material-7.1.0" name="generator"/><title>Software Repositories - Infotiv Autonomous Platform</title><link href="../assets/stylesheets/main.fdf4365a.min.css" rel="stylesheet"/><link href="../assets/stylesheets/palette.ef6f36e2.min.css" rel="stylesheet"/><link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/><link href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&amp;display=fallback" rel="stylesheet"/><style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style></head> <body data-md-color-accent="indigo" data-md-color-primary="indigo" data-md-color-scheme="default" dir="ltr"> <script>function __prefix(e){return new URL("..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script> <script>var palette=__get("__palette");if(null!==palette&&"object"==typeof palette.color)for(var key in palette.color)document.body.setAttribute("data-md-color-"+key,palette.color[key])</script> <input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/> <input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/> <label class="md-overlay" for="__drawer"></label> <div data-md-component="skip"> <a class="md-skip" href="#gokart-body-electronics"> Skip to content </a> </div> <div data-md-component="announce"> </div> <header class="md-header" data-md-component="header"> <nav aria-label="Header" class="md-header__inner md-grid"> <a aria-label="Infotiv Autonomous Platform" class="md-header__button md-logo" data-md-component="logo" href=".." title="Infotiv Autonomous Platform"> <svg viewbox="0 0 89 89" xmlns="http://www.w3.org/2000/svg"> <path d="M3.136,17.387l0,42.932l42.932,21.467l-42.932,-64.399Z"></path> <path d="M21.91,8l42.933,64.398l-18.775,9.388l-42.932,-64.399l18.774,-9.387Z" style="fill-opacity: 0.5"></path> <path d="M67.535,17.387l-27.262,18.156l21.878,32.818l5.384,2.691l0,-53.665Z"></path> <path d="M67.535,17.387l0,53.666l18.774,-9.388l0,-53.665l-18.774,9.387Z" style="fill-opacity: 0.25"></path> </svg> </a> <label class="md-header__button md-icon" for="__drawer"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"></path></svg> </label> <div class="md-header__title" data-md-component="header-title"> <div class="md-header__ellipsis"> <div class="md-header__topic"> <span class="md-ellipsis"> Infotiv Autonomous Platform </span> </div> <div class="md-header__topic" data-md-component="header-topic"> <span class="md-ellipsis"> Software Repositories </span> </div> </div> </div> <form class="md-header__option" data-md-component="palette"> <input class="md-option" data-md-color-accent="indigo" data-md-color-media="" data-md-color-primary="indigo" data-md-color-scheme="default" id="__palette_1" name="__palette" type="radio"/> <label class="md-header__button md-icon" for="__palette_2" hidden="" title="Switch to dark mode"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7 10a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2 2 2 0 0 1 2-2m10-3a5 5 0 0 1 5 5 5 5 0 0 1-5 5H7a5 5 0 0 1-5-5 5 5 0 0 1 5-5h10M7 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3h10a3 3 0 0 0 3-3 3 3 0 0 0-3-3H7z"></path></svg> </label> <input class="md-option" data-md-color-accent="red" data-md-color-media="" data-md-color-primary="red" data-md-color-scheme="slate" id="__palette_2" name="__palette" type="radio"/> <label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to light mode"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3z"></path></svg> </label> </form> <label class="md-header__button md-icon" for="__search"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg> </label> <div class="md-search" data-md-component="search" role="dialog"> <label class="md-search__overlay" for="__search"></label> <div class="md-search__inner" role="search"> <form class="md-search__form" name="search"> <input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" data-md-state="active" name="query" placeholder="Search" required="" spellcheck="false" type="text"/> <label class="md-search__icon md-icon" for="__search"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg> </label> <button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" type="reset"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg> </button> </form> <div class="md-search__output"> <div class="md-search__scrollwrap" data-md-scrollfix=""> <div class="md-search-result" data-md-component="search-result"> <div class="md-search-result__meta"> Initializing search </div> <ol class="md-search-result__list"></ol> </div> </div> </div> </div> </div> <div class="md-header__source"> <a class="md-source" data-md-component="source" href="https://infotiv-research.github.io" title="Go to repository"> <div class="md-source__icon md-icon"> <svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"></path></svg> </div> <div class="md-source__repository"> infotiv-research/gokart </div> </a> </div> </nav> </header> <div class="md-container" data-md-component="container"> <nav aria-label="Tabs" class="md-tabs" data-md-component="tabs"> <div class="md-tabs__inner md-grid"> <ul class="md-tabs__list"> <li class="md-tabs__item"> <a class="md-tabs__link" href=".."> Home </a> </li> <li class="md-tabs__item"> <a class="md-tabs__link" href="../scope/"> Scope and Goal </a> </li> <li class="md-tabs__item"> <a class="md-tabs__link" href="../platform/"> Architecture </a> </li> <li class="md-tabs__item"> <a class="md-tabs__link md-tabs__link--active" href="../components/"> Components </a> </li> <li class="md-tabs__item"> <a class="md-tabs__link" href="../start/"> Usage Manual </a> </li> <li class="md-tabs__item"> <a class="md-tabs__link" href="../contact/"> About </a> </li> </ul> </div> </nav> <main class="md-main" data-md-component="main"> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation"> <div class="md-sidebar__scrollwrap"> <div class="md-sidebar__inner"> <nav aria-label="Navigation" class="md-nav md-nav--primary md-nav--lifted" data-md-level="0"> <label class="md-nav__title" for="__drawer"> <a aria-label="Infotiv Autonomous Platform" class="md-nav__button md-logo" data-md-component="logo" href=".." title="Infotiv Autonomous Platform"> <svg viewbox="0 0 89 89" xmlns="http://www.w3.org/2000/svg"> <path d="M3.136,17.387l0,42.932l42.932,21.467l-42.932,-64.399Z"></path> <path d="M21.91,8l42.933,64.398l-18.775,9.388l-42.932,-64.399l18.774,-9.387Z" style="fill-opacity: 0.5"></path> <path d="M67.535,17.387l-27.262,18.156l21.878,32.818l5.384,2.691l0,-53.665Z"></path> <path d="M67.535,17.387l0,53.666l18.774,-9.388l0,-53.665l-18.774,9.387Z" style="fill-opacity: 0.25"></path> </svg> </a> Infotiv Autonomous Platform </label> <div class="md-nav__source"> <a class="md-source" data-md-component="source" href="https://infotiv-research.github.io" title="Go to repository"> <div class="md-source__icon md-icon"> <svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"></path></svg> </div> <div class="md-source__repository"> infotiv-research/gokart </div> </a> </div> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href=".."> Home </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../scope/"> Scope and Goal </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" id="__nav_3" type="checkbox"/> <label class="md-nav__link" for="__nav_3"> Architecture <span class="md-nav__icon md-icon"></span> </label> <nav aria-label="Architecture" class="md-nav" data-md-level="1"> <label class="md-nav__title" for="__nav_3"> <span class="md-nav__icon md-icon"></span> Architecture </label> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="../platform/"> Automotive Platform </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../bodyelec/"> Body Electronics </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../autonomous/"> Autonomous Drive </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input checked="" class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" id="__nav_4" type="checkbox"/> <label class="md-nav__link" for="__nav_4"> Components <span class="md-nav__icon md-icon"></span> </label> <nav aria-label="Components" class="md-nav" data-md-level="1"> <label class="md-nav__title" for="__nav_4"> <span class="md-nav__icon md-icon"></span> Components </label> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="../components/"> HW and Board Components </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../interfaces/"> Interfaces and Sensors </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle="toc" id="__toc" type="checkbox"/> <label class="md-nav__link md-nav__link--active" for="__toc"> Software Repositories <span class="md-nav__icon md-icon"></span> </label> <a class="md-nav__link md-nav__link--active" href="./"> Software Repositories </a> <nav aria-label="Table of contents" class="md-nav md-nav--secondary"> <label class="md-nav__title" for="__toc"> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="#vcu"> VCU </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#cem-for-infotiv-ap-gokart-and-cem"> CEM for Infotiv AP Gokart and CEM </a> <nav aria-label="CEM for Infotiv AP Gokart and CEM" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#model-view-controller"> Model-view-controller </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#ssm"> SSM </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#dim-code"> DIM code </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" id="__nav_5" type="checkbox"/> <label class="md-nav__link" for="__nav_5"> Usage Manual <span class="md-nav__icon md-icon"></span> </label> <nav aria-label="Usage Manual" class="md-nav" data-md-level="1"> <label class="md-nav__title" for="__nav_5"> <span class="md-nav__icon md-icon"></span> Usage Manual </label> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="../start/"> Start the GoKart </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../issues-todo/"> Common Issues </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../dev/"> For Developers </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" id="__nav_6" type="checkbox"/> <label class="md-nav__link" for="__nav_6"> About <span class="md-nav__icon md-icon"></span> </label> <nav aria-label="About" class="md-nav" data-md-level="1"> <label class="md-nav__title" for="__nav_6"> <span class="md-nav__icon md-icon"></span> About </label> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="../contact/"> Contact Infotiv </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../terms/"> Glossary of Terms </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../changelog/"> ChangeLog </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc"> <div class="md-sidebar__scrollwrap"> <div class="md-sidebar__inner"> <nav aria-label="Table of contents" class="md-nav md-nav--secondary"> <label class="md-nav__title" for="__toc"> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="#vcu"> VCU </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#cem-for-infotiv-ap-gokart-and-cem"> CEM for Infotiv AP Gokart and CEM </a> <nav aria-label="CEM for Infotiv AP Gokart and CEM" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#model-view-controller"> Model-view-controller </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#ssm"> SSM </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#dim-code"> DIM code </a> </li> </ul> </nav> </div> </div> </div> <div class="md-content" data-md-component="content"> <article class="md-content__inner md-typeset"> <h1 id="gokart-body-electronics">Gokart Body Electronics<a class="headerlink" href="#gokart-body-electronics" title="Permanent link">¶</a></h1> <p>In this page you can the source code repository for different components of the system.</p> <h4 id="vcu"><a href="https://gitlab.infotivlab.se/internal-development/autonomous-platform/Gokart/Gokart-BE/cantx-rig">VCU</a><a class="headerlink" href="#vcu" title="Permanent link">¶</a></h4> <p>The VCU is continuously sending wheel speed data to the CAN-bus. It is listening to the CAN bus for speed and turn rate requests and sends them to the PID which eventually modifies the values.</p> <h4 id="cem-for-infotiv-ap-gokart-and-cem"><a href="https://gitlab.infotivlab.se/internal-development/autonomous-platform/Gokart/Gokart-BE/gk-cem">CEM for Infotiv AP Gokart</a> and <a href="https://gitlab.infotivlab.se/internal-development/autonomous-platform/cem">CEM</a><a class="headerlink" href="#cem-for-infotiv-ap-gokart-and-cem" title="Permanent link">¶</a></h4> <p>The CEM listens to the CAN bus and analyses each message. Based on a list of signals it matches the messages to a certain instruction, e.g. a certain message type is set speed, so it forwards the message onto the propulsion CAN bus for the VCU to handle. The CEM is the central module that keeps track of the state of the entire platform.</p> <h5 id="model-view-controller">Model-view-controller<a class="headerlink" href="#model-view-controller" title="Permanent link">¶</a></h5> <p>The CEM and SSM are both coded in C++ in the Infotiv Embedded Framework. The system architecture used is Model-view-controller (MVC), a software pattern that aims at separating the data (model) from the parts of the code that alters the data (controller), as well as the presentation of the data (view).</p> <p>In a typical scenario a user gives input to a program on a computer. This input is handled by the controllers methods to manipulate the data in the model. Model is invisible for the user, but the model is responsible for updating view, which is the graphical interface for feedback to the user. In view the data is rendered to a suitable representation for the user. The main argument for separating data from presentation is to avoid that changes in the presentation layer have consequences for the handling of data, and vice versa. MVC is a design pattern that can vary a lot depending on the application. In the case of the CEM, where the presentation of the data could be said to lie in the physical body electronics outside of the microcontroller, a view layer in the code would be unnecessary. Worth noting is also that the input to the controller of the CEM does not come directly from the user, but from some other external unit, like the ADAS, VCU or DIM, which all have their own models and controllers. The user is in other words one ore more steps away compared to the typical scenario above.</p> <p><img alt="CEM code structure.!" src="../assets/images/cem-code.png" title="CEM code structure."/></p> <p>A takeaway is that when it comes to the models, even though there are more than one model, they all point back to the one instance of the deviceModel that is initialized by the CemModel. The DeviceModel is the register of the CAN-bus(es) and its signals and frames, and when initiated, the data that each signal holds. Looking at the controllers, there is a similar hierarchy in how the CemController has its only function to initialize all the other controllers. Also note that it points to the CemModel to make sure that the signals controlled are those in the one instance of the deviceModel. The main code is simple – after initializing a cemModel and cemController that initializes everything else, the code iterates over a list of all controllers and calls their update-functions.</p> <h4 id="ssm">SSM<a class="headerlink" href="#ssm" title="Permanent link">¶</a></h4> <p>The ECU responsible for handling the sonar sensors and putting their distance data on the CAN-bus follows the same MVC architecture (without view) as the CEM, only much simpler, with just a SonarModel that points at the DeviceModel, and a SonarController that manipulates the data in the SonarModel.</p> <h4 id="dim-code">DIM code<a class="headerlink" href="#dim-code" title="Permanent link">¶</a></h4> <p><img alt="Powermode display and selector buttons, a.k.a DIM.!" src="../assets/images/dim.png" title="Powermode display and selector buttons, a.k.a DIM."/></p> <p>The Powermode display is built on an arduino nano with C code including the transmit/receive configuration for the CAN communication to the MCP2515 underneath the Powermode buttons.</p> <h1 id="gokart-platform">Gokart Platform<a class="headerlink" href="#gokart-platform" title="Permanent link">¶</a></h1> <h4 id="gokart_vcu"><a href="https://gitlab.infotivlab.se/internal-development/autonomous-platform/Gokart/Gokart_vcu">Gokart_VCU</a><a class="headerlink" href="#gokart_vcu" title="Permanent link">¶</a></h4> <h4 id="adas">[ADAS]<a class="headerlink" href="#adas" title="Permanent link">¶</a></h4> <p>On boot the ADAS launches its server. The server script, car_server.py, starts two threads, one publisher thread and one reply thread. The publisher thread publishes sensor data and the reply thread awaits commands and then executes the commands. The two reply threads are used for slightly different things. One is used to send set speed/turn rate commands to the ADAS and to forward I/O messages to the CEM. The other is used to send config data to whatever infotainment system require it.</p> <h4 id="adas_dk"><a href="https://gitlab.infotivlab.se/internal-development/autonomous-platform/adas_dk">adas_dk</a><a class="headerlink" href="#adas_dk" title="Permanent link">¶</a></h4> <p>The ADAS software is written in Python while the ADAS DK aswell as the other ECU’s software is written in C++. </p> <h4 id="bms"><a href="https://gitlab.infotivlab.se/internal-development/autonomous-platform/bms">bms</a><a class="headerlink" href="#bms" title="Permanent link">¶</a></h4> <p>The BMS is continuously sending information regarding voltage and current onto the CAN bus. It is also listening on the CAN bus for power mode signals which it handles by switching relays in order to give power to the motor.</p> <h4 id="sw-drivers">SW drivers<a class="headerlink" href="#sw-drivers" title="Permanent link">¶</a></h4> <p>Drivers for the CAN-Bus module need to be installed on the raspberry. The drivers as well as instructions on how to install them are available at the <a href="https://wiki.infotivlab.se/bin/view/Autonomous%20Platform/Configuring%20CAN%20on%20Raspberry%20Pi/">infotiv wiki</a></p> <h4 id="gokart_signal_db"><a href="https://gitlab.infotivlab.se/internal-development/autonomous-platform/Gokart/Gokart_signal_db">Gokart_signal_db</a><a class="headerlink" href="#gokart_signal_db" title="Permanent link">¶</a></h4> <p>Signal database for CAN bus of the IES Gokart.</p> <p>The signal database is an excel file, containing signal and frame definitions for the CAN bus. Signals are all the data that can be communicated, and the frames are how it's done.</p> <p>The name and description is for developer use mostly. The ID is in hex, and needs to be unique for the bus. To add signals to the frame, add the signal indexes from the 'signals' sheet to the 'signals' column as a comma separated list.</p> <p>The 'Period' column specifies the rate at which the data should be sent, where a period of 0.01 is equivalent to 100 Hz.</p> <p>The 'Bus' column is used to differentiate buses in the case there are several on the platform. At the time of writing there is only one, so this can always be left as 1.</p> <h4 id="roscanbus"><a href="https://gitlab.infotivlab.se/internal-development/autonomous-platform/Gokart/roscanbus">RosCanBus</a><a class="headerlink" href="#roscanbus" title="Permanent link">¶</a></h4> <p>A CAN bus ROS node that will transcode CAN signals to ROS topics according to a predefined CAN database.</p> <h4 id="car-controller"><a href="https://gitlab.infotivlab.se/internal-development/autonomous-platform/car_controller">Car Controller</a><a class="headerlink" href="#car-controller" title="Permanent link">¶</a></h4> <p>This repository consists of all files required to make the CarController python package. This python library contains all the essential functions to send and retrieve data from the autonomous platform while working from a remote client. Through this repo, a python package can be made and installed on the remote client or a laptop. The package acts as a backend communication interface to any commands which the user wants to send from the laptop to the autonomous platform regardles of the hardware on it.</p> <p>The following features have been tested and functioning:</p> <p>1) Handles all the wireless communication through <a href="https://github.com/zeromq/pyzmq">zmq</a> 2) Gets the current signal information from the car. 3) The power to the motors can be switched on and off. The speed and turnrate can be set 4) Supports communication with one camera on board. 5) Takes input from the lidar and generates a map through SLAM. 6) When successfully connected to the server on the autonomous platform, this program will send out a heartbeat to indicate the health of the whole ADAS unit.</p> <h4 id="gokart_controller"><a href="https://gitlab.infotivlab.se/internal-development/autonomous-platform/Gokart/Gokart_controller">Gokart_Controller</a><a class="headerlink" href="#gokart_controller" title="Permanent link">¶</a></h4> <p>Python wrapper to communicate with ROS using rospy library.</p> <h4 id="gokart_power_mode_display"><a href="https://gitlab.infotivlab.se/internal-development/autonomous-platform/Gokart/Gokart_mood_display">Gokart_power_mode_display</a><a class="headerlink" href="#gokart_power_mode_display" title="Permanent link">¶</a></h4> <h4 id="nvidia-jetson-setup-files-gokart_setup"><a href="https://gitlab.infotivlab.se/internal-development/autonomous-platform/Gokart/Gokart_setup">NVIDIA Jetson Setup files, Gokart_setup</a><a class="headerlink" href="#nvidia-jetson-setup-files-gokart_setup" title="Permanent link">¶</a></h4> <p>ROS subproject containing all setup for the Gokart. (Configuration files, script to launch services on startup )</p> <p>This repo contains the launch files for starting the Cartographer nodes.<br/> It also contains the systemd services used for running <code>roscore</code>, <code>rplidar</code>, and <code>usb_cam</code>.<br/> There is a file in the services folder which defines udev rules, which allow us to bind the<br/> lidars to <code>/dev/lidar/*</code> which is convenient.</p> <p>The <code>urdf</code> folder contains the URDF (Universal Robot Definition File) for the Gokart.</p> <p>The main launch file used is <code>dobby.launch</code>. It will connect to the cars sensors<br/> and start up a graphical session in rviz displaying the Cartographer node's work.</p> <h4 id="cartographer_ws"><a href="https://gitlab.infotivlab.se/internal-development/autonomous-platform/Gokart/cartographer_ws">cartographer_ws</a><a class="headerlink" href="#cartographer_ws" title="Permanent link">¶</a></h4> <p>ROS workspace to get cartographer up and running with the IES Gokart.</p> <p>This is intended to be run on a laptop which connects to the Gokart over wifi,<br/> not on the Gokart itself. Cartographer can certainly run on the Gokart, but<br/> this repositories scripts assume that you have a graphical user interface. </p> <p>Note that this project contains subrepositories! Remember to initialize them using<br/> <code>git submodule update --init</code></p> <p>There are some shell scripts to help you out when getting started:</p> <ul> <li><strong>get_carto.sh</strong> will download all files required to build cartographer</li> <li><strong>build_carto.sh</strong> will build the downloaded files</li> <li><strong>run_carto.sh</strong> will run the cartographer nodes</li> </ul> <h4 id="sonar-sensor-module-for-gokart"><a href="https://gitlab.infotivlab.se/internal-development/autonomous-platform/Gokart/Gokart-ssm">Sonar Sensor Module for Gokart</a><a class="headerlink" href="#sonar-sensor-module-for-gokart" title="Permanent link">¶</a></h4> <h4 id="urdf-file"><a href="https://gitlab.infotivlab.se/internal-development/autonomous-platform/Gokart/urdf">urdf file</a><a class="headerlink" href="#urdf-file" title="Permanent link">¶</a></h4> <p>This repo contains the URDF file for the Gokart.</p> <p>The URDF contains all geometrical definitions needed for the robot; eg where all the sensors are mounted. Read more creating your own urdf file <a href="http://wiki.ros.org/urdf/Tutorials/Create%20your%20own%20urdf%20file">here</a>. </p> <h4 id="tem"><a href="https://gitlab.infotivlab.se/internal-development/autonomous-platform/tem">TEM</a><a class="headerlink" href="#tem" title="Permanent link">¶</a></h4> <p>This camera submodule should be run on the Raspberry Pi, server running on port 5557 Follow instruction to enable CAN drivers on Raspberry Pi</p> <h4 id="lidarserver"><a href="https://gitlab.infotivlab.se/internal-development/autonomous-platform/lidarserver">lidarServer</a><a class="headerlink" href="#lidarserver" title="Permanent link">¶</a></h4> <ul> <li>publish_port = 5553</li> <li>command_port = 5554</li> </ul> <h4 id="researchplatform"><a href="https://gitlab.infotivlab.se/internal-development/autonomous-platform/researchplatform">researchplatform</a><a class="headerlink" href="#researchplatform" title="Permanent link">¶</a></h4> <p>running on PI</p> <h4 id="ros-platform"><a href="https://gitlab.infotivlab.se/internal-development/autonomous-platform/rosplatform">ROS platform</a><a class="headerlink" href="#ros-platform" title="Permanent link">¶</a></h4> <h4 id="camera-server"><a href="https://gitlab.infotivlab.se/internal-development/autonomous-platform/camera_server">camera Server</a><a class="headerlink" href="#camera-server" title="Permanent link">¶</a></h4> <p>This camera submodule should be run on the Raspberry Pi, running on port 5557</p> <p>Also see <a href="https://gitlab.infotivlab.se/internal-development/autonomous-platform/camera_view">camera_view</a></p> <h4 id="car_protobufs"><a href="https://gitlab.infotivlab.se/internal-development/autonomous-platform/car_protobufs">car_protobufs</a><a class="headerlink" href="#car_protobufs" title="Permanent link">¶</a></h4> <h4 id="car_server"><a href="https://gitlab.infotivlab.se/internal-development/autonomous-platform/car_server">Car_server</a><a class="headerlink" href="#car_server" title="Permanent link">¶</a></h4> <p>See diagrams in the note folder</p> </article> </div> </div> </main> <footer class="md-footer"> <nav aria-label="Footer" class="md-footer__inner md-grid"> <a class="md-footer__link md-footer__link--prev" href="../interfaces/" rel="prev"> <div class="md-footer__button md-icon"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg> </div> <div class="md-footer__title"> <div class="md-ellipsis"> <span class="md-footer__direction"> Previous </span> Interfaces and Sensors </div> </div> </a> <a class="md-footer__link md-footer__link--next" href="../start/" rel="next"> <div class="md-footer__title"> <div class="md-ellipsis"> <span class="md-footer__direction"> Next </span> Start the GoKart </div> </div> <div class="md-footer__button md-icon"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"></path></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class="md-footer-copyright"> <div class="md-footer-copyright__highlight"> Copyright © 2019 - 2021 INFOTIV AB </div> Made with <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank"> Material for MkDocs </a>  ... <a class="link--pdf-download" download href="../assets/documents/infotiv-gokart.pdf" title="PDF">download PDF</a></div> <div class="md-footer-social"> <a class="md-footer-social__link" href="https://github.com/infotiv-research" rel="noopener" target="_blank" title="github.com"> <svg viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg> </a> <a class="md-footer-social__link" href="https://www.facebook.com/infotiv.se" rel="noopener" target="_blank" title="www.facebook.com"> <svg viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"></path></svg> </a> <a class="md-footer-social__link" href="https://twitter.com/infotiv" rel="noopener" target="_blank" title="twitter.com"> <svg viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg> </a> <a class="md-footer-social__link" href="https://www.linkedin.com/company/31166" rel="noopener" target="_blank" title="www.linkedin.com"> <svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path></svg> </a> <a class="md-footer-social__link" href="https://www.instagram.com/infotiv_ab/" rel="noopener" target="_blank" title="www.instagram.com"> <svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"></path></svg> </a> </div> </div> </div> </footer> </div> <div class="md-dialog" data-md-component="dialog"> <div class="md-dialog__inner md-typeset"></div> </div> <script id="__config" type="application/json">{"base": "..", "features": ["navigation.sections", "navigation.tabs"], "search": "../assets/javascripts/workers/search.fe42c31b.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing"}, "version": null}</script> <script src="../assets/javascripts/bundle.d892486b.min.js"></script> </body> </html>